const rules = [
  [/#{6}\s?([^\n]+)\n/g, '<h6>$1</h6>'], //v
  [/#{5}\s?([^\n]+)\n/g, '<h5>$1</h5>'], //v
  [/#{4}\s?([^\n]+)\n/g, '<h4>$1</h4>'], //v
  [/#{3}\s?([^\n]+)\n/g, '<h3>$1</h3>'], //v
  [/#{2}\s?([^\n]+)\n/g, '<h2>$1</h2>'], //v
  [/#{1}\s?([^\n]+)\n/g, '<h1>$1</h1>'], //v

  [/([^\n]+)\n\s+=+/g, '<h1>$1</h1><hr/>'],
  [/([^\n]+)\n\s+-+/g, '<h2>$1</h2><hr/>'],

  [/\*\*([^\*]+)\*\*/g, '<b>$1</b>'], //v
  [/\*([^\*]+)\*/g, '<i>$1</i>'], //v

  [/__([^_]+)__/g, '<b>$1</b>'],
  [/_([^_]+)_/g, '<i>$1</i>'],
  [/((\n\d\..+)+)/g, '<ol>$1</ol>'],
  [/((\n\*.+)+)/g, '<ul>$1</ul>'],
  [/\n\d\.([^\n]+)/g, '<li>$1</li>'],
  [/\n\*([^\n]+)/g, '<li>$1</li>'],
  [/\!\[([^\]]+)\]\(([^\)]+)\S\"([^\"\)]+)\"\)/g, '<img src="$2" alt="$1" title="$3" />'],
  [/\[([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2">$1</a>'], //v
  [/([^\n]+\n)/g, '<p>$1</p>'],
];

export default {
  bind(el) {
    // console.log('el', el.textContent);
    let html = el.textContent;
    rules.forEach(([rule, template]) => {
      html = html.replace(rule, template);
    })
    el.innerHTML = html;
  }
}